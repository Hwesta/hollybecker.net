{% macro render_blog_post(post, from_index=false) %}
{% if from_index %}
<h3><a href="{{ post|url }}">{{ post.title }}</a></h3>
{% else %}
<h2>{{ post.title }}</h2>
{% endif %}
<p class="blog-meta">{% if post.pub_date %}posted on {{ post.pub_date | dateformat('long') }}</p>
{% else %}unpublished{% endif%}
{% if from_index %}
<p>{{ post.preview }}</p>
{% else %}
{{ post.body }}
{% endif %}
{% endmacro %}